#! /usr/bin/env perl

use strict;
use warnings;

use Cwd 'abs_path';
use File::Spec;


my $filename = abs_path($ARGV[0]);
die "This only works on files" unless -f $filename;

if ($filename =~ m/lib.perl.Genome.(.*)/) {
    my $relative_filename = $1;
    my @cmd = (
        'cp', '-f',
        $filename,
        File::Spec->join('/home/archive/dmorton/genome/lib/perl/Genome', $relative_filename),
    );
    printf "RUN: %s\n", join(" ", @cmd);
    system(@cmd);
} else {
    die "Couldn't find pattern in filename: $filename";
}

